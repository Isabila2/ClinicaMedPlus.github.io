<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redefinir Senha</title>
    <link rel="stylesheet" href="forms.css">
</head>
<style>
    /* Seus estilos CSS aqui */
</style>
<script>
    // Simulação de banco de dados com usuários de exemplo
    var usersDatabase = {
        alice: { existingKey: "chaveAlice", password: "senha_alice" },
        bob: { existingKey: "chaveBob", password: "senha_bob" },
        carol: { existingKey: "chaveCarol", password: "senha_carol" },
    };

    function resetPassword() {
        var email = document.getElementById("email").value;
        var existingKey = document.getElementById("existingKey").value;
        var newPassword = document.getElementById("newPassword").value;
        var confirmPassword = document.getElementById("confirmPassword").value;

        // Verifique se o email existe no banco de dados
        if (usersDatabase[email]) {
            // Verifique se a chave existente é válida
            if (usersDatabase[email].existingKey === existingKey) {
                // Redefina a senha e atualize no banco de dados (simulado)
                usersDatabase[email].password = newPassword;

                alert("Senha redefinida com sucesso!");
                window.location.href = "/login.html";
            } else {
                alert("Chave existente inválida!");
            }
        } else {
            alert("Email não encontrado no banco de dados!");
        }
    }

    function login() {
        var email = document.getElementById("loginEmail").value;
        var password = document.getElementById("loginPassword").value;

        // Verifique se o email existe no banco de dados
        if (usersDatabase[email] && usersDatabase[email].password === password) {
            alert("Login bem-sucedido!");
            // Redirecione para a página principal ou execute outras ações
        } else {
            alert("Email ou senha inválidos!");
        }
    }
</script>

<body>
    <div class="box">
        <form>
            <fieldset class="barraemvolta">
                <div class="inputbox">
                    <input type="text" name="email" id="email" placeholder="Email" class="inputUser" required>
                    <label for="email"></label>
                </div>
                <div class="inputbox">
                    <input type="text" name="existingKey" id="existingKey" placeholder="Chave Existente" class="inputUser" required>
                    <label for="existingKey"></label>
                </div>
                <div class="inputbox">
                    <input type="password" name="newPassword" id="newPassword" placeholder="Nova senha" class="inputUser" required>
                    <label for="newPassword"></label>
                </div>
                <div class="inputbox">
                    <input type="password" name="confirmPassword" id="confirmPassword" placeholder="Confirmar senha" class="inputUser" required>
                    <label for="confirmPassword"></label>
                </div>
                <input type="button" name="submit" id="submit" onclick="resetPassword()" value="Redefinir Senha">
            </fieldset>
        </form>
        <form>
            <fieldset class="barraemvolta">
                <div class="inputbox">
                    <input type="text" name="loginEmail" id="loginEmail" placeholder="Email de login" class="inputUser" required>
                    <label for="loginEmail"></label>
                </div>
                <div class="inputbox">
                    <input type="password" name="loginPassword" id="loginPassword" placeholder="Senha de login" class="inputUser" required>
                    <label for="loginPassword"></label>
                </div>
                <input type="button" name="loginSubmit" id="loginSubmit" onclick="login()" value="Fazer Login">
            </fieldset>
        </form>
    </div>
</body>
</html>
